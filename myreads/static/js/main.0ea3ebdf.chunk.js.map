{"version":3,"sources":["BooksAPI.js","SearchBooksInput.js","CloseSearchButton.js","SearchBar.js","BookShelfChanger.js","Book.js","SearchResults.js","BookSearch.js","NavBar.js","BookShelf.js","BookCase.js","OpenSearch.js","BookList.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","books","update","book","shelf","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","query","SearchBooksInput","react_default","a","createElement","className","type","placeholder","onChange","this","props","onSearch","React","Component","CloseSearchButton","react_router_dom","to","onClick","clearSearch","SearchBar","src_CloseSearchButton","src_SearchBooksInput","BookShelfChanger","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","currentShelf","onMove","event","value","target","setState","moveShelf","bookToUpdate","disabled","Book","_this$props","bookDetails","style","width","height","backgroundImage","imageLinks","thumbnail","src_BookShelfChanger","title","authors","join","SearchResults","map","src_Book","key","BookSearch","src_SearchBar","undefined","searchResult","length","src_SearchResults","NavBar","navName","BookShelf","name","filter","BookCase","bookshelves","src_BookShelf","OpenSearch","BookList","src_NavBar","src_BookCase","src_OpenSearch","App","componentDidMount","BooksAPI","catch","err","console","log","error","onMoveShelf","prevState","b","debounce","searchResponse","_this2","react_router","path","render","src_BookSearch","exact","src_BookList","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.0ea3ebdf.chunk.js","sourcesContent":["\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n","import React from 'react'\nimport './App.css'\n\nclass SearchBooksInput extends React.Component {\n    render() {\n        return (\n            <div className=\"search-books-input-wrapper\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search by title or author\"\n                    onChange={this.props.onSearch}/>\n            </div>\n        )\n    }\n}\n\nexport default SearchBooksInput;","import React from 'react'\nimport './App.css'\nimport { Link } from 'react-router-dom'\n\n\nclass CloseSearchButton extends React.Component {\n    render() {\n        return (\n            <Link to='/' onClick={this.props.clearSearch}>\n                <button className=\"close-search\"  >Close</button>\n            </Link>\n        )\n    }\n}\n\nexport default CloseSearchButton;","import React from 'react'\nimport SearchBooksInput from './SearchBooksInput';\nimport CloseSearchButton from './CloseSearchButton';\nimport './App.css'\n\nclass SearchBar extends React.Component {\n    render() {\n        return (\n            <div className=\"search-books-bar\">\n                <CloseSearchButton clearSearch={this.props.clearSearch}/>\n                <SearchBooksInput onSearch={this.props.onSearch}/>\n            </div>\n        )\n    }\n}\n\nexport default SearchBar;","import React from 'react'\nimport './App.css'\n\nclass BookShelfChanger extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentShelf: this.props.shelf\n        }\n\n        this.onMove = event => {\n            const { value } = event.target;\n\n            this.setState({ currentShelf: value })\n            this.props.moveShelf(this.props.bookToUpdate, event.target.value)\n        }\n    }\n    render() {\n        return (\n            <div className=\"book-shelf-changer\">\n                <select value={this.state.currentShelf} onChange={this.onMove}>\n                    <option value=\"move\" disabled>Move to...</option>\n                    <option value=\"currentlyReading\" >Currently Reading</option>\n                    <option value=\"wantToRead\">Want to Read</option>\n                    <option value=\"read\">Read</option>\n                    <option value=\"none\">None</option>\n                </select>\n            </div>\n        )\n    }\n}\n\nexport default BookShelfChanger;","import React from 'react'\nimport './App.css'\nimport BookShelfChanger from './BookShelfChanger';\n\nclass Book extends React.Component {\n    render() {\n        const { bookDetails, moveShelf } = this.props;\n\n        return (\n            <li>\n                <div className=\"book\">\n                    <div className=\"book-top\">\n                        <div className=\"book-cover\" style={{\n                            width: 128, height: 193, backgroundImage: `url(${bookDetails.imageLinks\n                                && bookDetails.imageLinks.thumbnail})`\n                        }}></div>\n                        <BookShelfChanger bookToUpdate={bookDetails} currentShelf={bookDetails.shelf} moveShelf={moveShelf} />\n                    </div>\n                    <div className=\"book-title\">\n                        {bookDetails.title}\n                    </div>\n                    <div className=\"book-authors\">\n                        {bookDetails.authors ? bookDetails.authors.join(', ') : 'Unknown Author'}\n                    </div>\n                </div>\n            </li>\n        )\n    }\n}\n\nexport default Book;","import React from 'react'\nimport Book from './Book';\nimport './App.css'\n\nclass SearchResults extends React.Component {\n    render() {\n        return (\n            <div className=\"search-books-results\">\n                <ol className=\"books-grid\">\n                    {this\n                        .props\n                        .books\n                        .map(book => (<Book key={book.id} bookDetails={book} moveShelf={this.props.moveShelf}/>))\n}\n                </ol>\n            </div>\n        )\n    }\n}\n\nexport default SearchResults;","import React from 'react'\nimport SearchBar from './SearchBar';\nimport SearchResults from './SearchResults';\nimport './App.css'\n\nclass BookSearch extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            query: '',\n        }\n\n        this.onSearch = (event) => {\n            this.setState({ query: event.target.value })\n            this.props.onSearch(event.target.value)\n        }\n\n\n    }\n    render() {\n        return (\n            <div className=\"search-books\">\n                <SearchBar onSearch={this.onSearch} clearSearch={this.props.clearSearch} />\n                {this.props.searchResult !== undefined && this.props.searchResult.length > 0 &&\n                    <SearchResults\n                        books={this.props.searchResult}\n                        moveShelf={this.props.moveShelf} />\n                }\n            </div>\n        )\n    }\n}\nexport default BookSearch;\n\n","import React from 'react'\nimport './App.css'\n\n\nclass NavBar extends React.Component {\n    render() {\n        return (\n            <div className=\"list-books-title\" >\n                <h1>{this.props.navName}</h1>\n            </div >\n        )\n    }\n}\n\nexport default NavBar;","import React from 'react'\nimport Book from './Book';\nimport './App.css'\n\nclass BookShelf extends React.Component {\n    render() {\n        return (\n            <div className=\"bookshelf\">\n                <h2 className=\"bookshelf-title\">{this.props.shelf.name}</h2>\n                <div className=\"bookshelf-books\">\n                    <ol className=\"books-grid\">\n                        {this\n                            .props\n                            .books\n                            .filter(book => book.shelf === this.props.shelf.key)\n                            .map(book => (<Book key={book.id} bookDetails={book} moveShelf={this.props.moveShelf}/>))}\n                    </ol>\n                </div>\n            </div>\n        )\n    }\n}\nexport default BookShelf;","import React from 'react'\nimport BookShelf from './BookShelf';\nimport './App.css'\n\nclass BookCase extends React.Component {\n    render() {\n        return (\n            <div className=\"list-books-content\">\n                <div>\n                    {this.props.bookshelves.map(shelf => (\n                        <BookShelf key={shelf.key} shelf={shelf} books={this.props.books} moveShelf={this.props.moveShelf} />\n                    ))}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default BookCase;","import React from 'react'\nimport './App.css'\nimport { Link } from 'react-router-dom'\n\nclass OpenSearch extends React.Component {\n    render() {\n        return (\n            <div className=\"open-search\">\n                <Link to=\"/search\">\n                    <button>Add a book</button>\n                </Link>\n            </div>\n        )\n    }\n}\nexport default OpenSearch;","import React from 'react'\nimport NavBar from './NavBar';\nimport BookCase from './BookCase';\nimport OpenSearch from './OpenSearch';\nimport './App.css'\n\nclass BookList extends React.Component {\n    render() {\n        return (\n            <div className=\"list-books\">\n                <NavBar navName='Your Reads' />\n                <BookCase bookshelves={this.props.bookshelves} books={this.props.books} moveShelf={this.props.moveShelf} />\n                <OpenSearch />\n            </div>\n        )\n    }\n}\n\nexport default BookList;","import React from 'react'\nimport * as BooksAPI from './BooksAPI'\nimport BookSearch from './BookSearch';\nimport BookList from './BookList';\nimport './App.css'\nimport { Route } from 'react-router-dom'\nimport { debounce } from 'throttle-debounce';\n\nconst  bookshelves = [\n  {\n    key: 'currentlyReading',\n    name: 'Currently Reading'\n  }, {\n    key: 'wantToRead',\n    name: 'Want to Read'\n  }, {\n    key: 'read',\n    name: 'Have Read'\n  }\n];\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      books: [],\n      searchResult: [],\n      error: false\n    }\n\n    this.onMoveShelf = (book, shelf) => {\n      BooksAPI.update(book, shelf).catch(err => {\n        console.log(err);\n        this.setState({ error: true });\n      });\n      if (shelf === 'none') {\n        this.setState(prevState => ({\n          books: prevState.books.filter(b => b.id !== book.id)\n        }));\n      } else {\n        book.shelf = shelf;\n        this.setState(prevState => ({\n          books: prevState.books.filter(b => b.id !== book.id).concat(book)\n        }));\n      }\n    };\n\n    this.clearSearch = () => {\n      this.setState({ searchResult: [] })\n    }\n\n    this.onSearch = debounce(300, false, query => {\n      if (query.length > 0) {\n        BooksAPI\n          .search(query)\n          .then(searchResponse => {\n            if (searchResponse.error) {\n              this.clearSearch()\n            } else {\n              this.setState({ searchResult: searchResponse })\n            }\n          })\n      } else {\n        this.clearSearch()\n      }\n\n    })\n  }\n\n  componentDidMount = () => {\n    BooksAPI\n      .getAll()\n      .then(books => {\n        this.setState({ books: books });\n      }).catch(err => {\n        console.log(err);\n        this.setState({ error: true });\n      });;\n  };\n\n  /* cSpell:disable */\n\n  render() {\n    if (this.state.error) {\n      return <div>Network error. Please try again later.</div>;\n    }\n    return (\n      <div className=\"app\">\n        <Route\n          path=\"/search\"\n          render={() => (<BookSearch\n            bookshelves={bookshelves}\n            books={this.state.books}\n            onSearch={this.onSearch}\n            searchResult={this.state.searchResult}\n            moveShelf={this.onMoveShelf}\n            clearSearch={this.clearSearch} />)} />\n        <Route\n          exact\n          path=\"/\"\n          render={() => (<BookList\n            bookshelves={bookshelves}\n            books={this.state.books}\n            moveShelf={this.onMoveShelf} />)} />\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n    <BrowserRouter><App /></BrowserRouter>,\n    document.getElementById('root'));"],"sourceRoot":""}